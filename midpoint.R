midpoint = function(v) {
  n = length(v)
  indx = 1:n
  (v[indx<n] + v[indx>1])/2.
}
